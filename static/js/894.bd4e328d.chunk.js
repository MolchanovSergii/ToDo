"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[894],{303:(e,t,o)=>{o.d(t,{E2:()=>x,G6:()=>u,Ay:()=>g});var a=o(43),n=o(931),s=o(579);const l=e=>{let{filter:t,setFilter:o,search:a,setSearch:n}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"label",children:["\u0429\u043e \u043e\u0431\u0438\u0440\u0430\u0454\u0448...?",(0,s.jsxs)("select",{className:"select",value:t,onChange:e=>o(e.target.value),children:[(0,s.jsx)("option",{value:"all",children:"\u0423\u0441\u0456 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}),(0,s.jsx)("option",{value:"active",children:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0456"}),(0,s.jsx)("option",{value:"completed",children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u0456"})]})]}),(0,s.jsxs)("label",{className:"label",htmlFor:"search-todo",children:["\u041f\u043e\u0448\u0443\u043a\u0430\u0454\u043c...?",(0,s.jsx)("input",{className:"input",id:"search-todo",type:"search",value:a,placeholder:"\u041f\u0456\u0434\u043a\u0430\u0436\u0438 \u0449\u043e \u043c\u0438 \u0448\u0443\u043a\u0430\u0435\u043c\u043e?",onChange:e=>n(e.target.value)})]})]})};var i=o(423),c=o(531),d=o(981);const r=e=>{let{todos:t,onDeleteToDo:o,onToggleCompleted:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{children:t.map((e=>{let{id:t,title:n,description:l,checked:i}=e;return(0,s.jsxs)("li",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:i?"todo-item completed":"todo-item",children:n}),(0,s.jsx)("p",{className:i?"todo-item completed":"todo-item",children:l})]}),(0,s.jsx)(c.$,{type:"button",onClick:()=>o(t),children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 To Do"}),(0,s.jsx)(c.S,{as:d.N_,to:`/todo-list/${t}`,children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"}),(0,s.jsx)("label",{htmlFor:`todo-${t}`,children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e?"}),(0,s.jsx)("input",{id:`todo-${t}`,type:"checkbox",onChange:()=>a(t),checked:i})]},t)}))})})};var h=o(502),p=o(726);const u=3,x=50,g=()=>{const[e,t]=(0,a.useState)([]),[o,d]=(0,a.useState)(""),[g,m]=(0,a.useState)(""),[j,y]=(0,a.useState)("all"),[f,v]=(0,a.useState)(""),[b,k]=(0,a.useState)(""),[w,C]=(0,a.useState)(!1),[S,T]=(0,a.useState)(!0);(0,a.useEffect)((()=>{C(!0),k("");(async()=>{try{var e;const o=await(0,n.Gg)();t(null!==(e=o.data)&&void 0!==e?e:[]),0===o.data.length&&T(!1)}catch(o){k("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 Todo")}finally{C(!1)}})()}),[]);const $=async()=>{const e=o.trim();if(""===e||e.length<u)k(`\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 ${u} \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432`);else if(e.length>x)k(`\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 ${x} \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432`);else{C(!0),k("");try{const e={title:o,description:g,checked:!1},a=await(0,n.eW)(e);t((e=>[...e,a.data])),d(""),m("")}catch(b){k("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u0456 Todo \ud83d\ude22")}finally{C(!1)}}},N=e=>{"Enter"===e.key&&$()},A=(0,a.useMemo)((()=>{const t=f.toLowerCase().trim(),o=e.filter((e=>"active"===j?!e.checked:"completed"!==j||e.checked));return t?o.filter((e=>`${e.title} ${e.description}`.toLowerCase().includes(t))):o}),[e,f,j]);return(0,s.jsxs)(i.m,{children:[w&&(0,s.jsx)(h.A,{}),b&&(0,s.jsx)(p.A,{message:b}),!w&&!b&&0===e.length&&(0,s.jsx)("div",{children:(0,s.jsx)(c.$,{type:"button",onClick:()=>T(!0),children:"\u0414\u043e\u0434\u0430\u0442\u0438 Todo"})}),S&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"label",htmlFor:"new-todo",children:["New task -"," "]}),(0,s.jsx)("input",{className:"input",id:"new-todo",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0430 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",value:o,onChange:e=>d(e.target.value),onKeyDown:N}),(0,s.jsxs)("label",{className:"label",htmlFor:"new-todo-description",children:["Task description-"," "]}),(0,s.jsx)("input",{className:"input",id:"new-todo-description",placeholder:"\u0417\u0440\u043e\u0431\u0438\u0442\u044c \u043e\u043f\u0438\u0441 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",value:g,onChange:e=>m(e.target.value),onKeyDown:N}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("p",{children:["Total ToDo's: ",e.length]}),(0,s.jsx)(c.$,{type:"button",onClick:$,children:"\u0414\u043e\u0434\u0430\u0442\u0438 To Do"})]})]}),(0,s.jsx)(l,{filter:j,setFilter:y,search:f,setSearch:v}),0===A.length&&(0,s.jsx)("p",{children:"\u0423\u043f-\u0441 ... \u0430 \u044f \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0448\u043e\u0432"}),(0,s.jsx)(r,{todos:A,onDeleteToDo:async e=>{C(!0),k("");try{await(0,n.Ys)(e),t((t=>t.filter((t=>t.id!==e))))}catch(b){k("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u0456 Todo")}finally{C(!1)}},onToggleCompleted:async o=>{const a=e.find((e=>e.id===o));if(a){C(!0),k("");try{const e=await(0,n.uy)(o,{...a,checked:!a.checked});t((t=>t.map((t=>t.id===o?e.data:t))))}catch(b){k("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u0441\u0442\u0430\u0442\u0443\u0441\u0443 Todo")}finally{C(!1)}}}})]})}},423:(e,t,o)=>{o.d(t,{m:()=>a});const a=o(464).Ay.div`
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
`},531:(e,t,o)=>{o.d(t,{$:()=>n,S:()=>a});const a=o(464).Ay.button`
  border: none;
  border-radius: 30px;
  background: linear-gradient(135deg, #4f46e5, #3b82f6);
  color: #fff;
  font-weight: 500;
  font-size: 16px;
  line-height: 1.2;
  text-decoration: none;
  display: inline-block;
  padding: 10px 20px;
  margin: 10px;
  cursor: pointer;
  transition: 0.3s ease;

  &:hover {
    background: linear-gradient(135deg, #4338ca, #2563eb);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    text-decoration: none;
  }

  &:active {
    transform: scale(0.98);
  }
`,n=a},726:(e,t,o)=>{o.d(t,{A:()=>l});var a=o(464),n=o(579);const s=a.Ay.div`
  background-color: #ffe6e6;
  color: #d00;
  padding: 10px 15px;
  border-radius: 8px;
  margin: 10px 0;
  font-size: 14px;
  text-align: center;
`,l=e=>{let{message:t}=e;return t?(0,n.jsx)(s,{children:t}):null}},894:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var a=o(43),n=o(981),s=o(931),l=o(531);const i=o(464).Ay.div`
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  max-width: 400px;
  margin: 0 auto;
`;var c=o(303),d=o(726),r=o(579);const h=e=>{let{editingTodo:t,onCancel:o,onSave:n}=e;const[s,h]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[x,g]=(0,a.useState)(!1),[m,j]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&(h(t.title),u(t.description),g(t.checked))}),[t]);return(0,r.jsxs)(i,{onKeyDown:e=>{"Escape"===e.key&&o()},tabIndex:0,children:[m&&(0,r.jsx)(d.A,{message:m}),(0,r.jsx)("input",{className:"input",type:"text",value:s,onChange:e=>h(e.target.value)}),(0,r.jsx)("input",{className:"input",type:"text",value:p,onChange:e=>u(e.target.value)}),(0,r.jsx)(l.$,{type:"button",onClick:()=>{const e=s.trim();""===e||e.length<c.G6?j(`\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 ${c.G6} \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432`):e.length>c.E2?j(`\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 ${c.E2} \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432`):n({...t,title:s,description:p,checked:x})},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),(0,r.jsx)(l.$,{type:"button",onClick:o,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"}),(0,r.jsx)("label",{htmlFor:"todo-editing-completed",children:"\u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e?"}),(0,r.jsx)("input",{id:"todo-editing-completed",type:"checkbox",checked:x,onChange:e=>g(e.target.checked)})]})};var p=o(423),u=o(502);function x(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),[o,l]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0),[x,g]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{let t=!1;try{if(c(!0),g(""),!t){const t=await(0,s.Nr)(e);l(t.data),c(!1)}}catch(x){g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u0456 Todo")}finally{t||c(!1)}})()}),[e]);return(0,r.jsxs)(p.m,{children:[i&&(0,r.jsx)(u.A,{}),x&&(0,r.jsx)(d.A,{message:x}),!i&&!x&&o&&(0,r.jsx)(h,{editingTodo:o,onSave:async e=>{c(!0),g("");try{const o=await(0,s.uy)(e.id,e);l(o.data),t("/todo-list")}catch(x){g("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u0456 Todo")}finally{c(!1)}},onCancel:()=>{t("/todo-list")}})]})}},931:(e,t,o)=>{o.d(t,{Gg:()=>n,Nr:()=>s,Ys:()=>c,eW:()=>l,uy:()=>i});const a=o(213).A.create({baseURL:"http://localhost:3030",timeout:3e3,headers:{"Content-Type":"application/json"}}),n=()=>a.get("/todos"),s=e=>a.get(`/todos/${e}`),l=e=>a.post("/todos",e),i=(e,t)=>a.put(`/todos/${e}`,t),c=e=>a.delete(`/todos/${e}`)}}]);
//# sourceMappingURL=894.bd4e328d.chunk.js.map